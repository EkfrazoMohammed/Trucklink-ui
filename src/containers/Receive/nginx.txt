# SSL configuration

    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    ssl        on;
#    ssl_certificate         /home/hutech/SECU/ssl/hutechsolutions.in.pem;
#    ssl_certificate_key     /home/hutech/SECU/ssl/hutechsolutions.in.key;
    ssl_certificate /etc/letsencrypt/live/trucklinkuat.thestorywallcafe.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/trucklinkuat.thestorywallcafe.com/privkey.pem;
#     listen 80;

     server_name trucklinkuat.thestorywallcafe.com
#    server_name hutechsolutions.in www.hutechsolutions.in;
    include /home/hutech/SECU/cloudflare-allow.conf;
#    deny all;
    root /home/hutech/truckLink/ui/build;
    #root /home/RD/sample/.well-known/acme-challenge/xfBvh-N5VxjTh7vjsAdjw8WC4cFWmgxVCk9q2IAvYOE;
    location / {
        index index.html index.htm index.nginx-debian.html;
        try_files $uri /index.html;
    }

 #   location / {
  # proxy_pass  http://localhost:2109/a/;         proxy_set_header Host $host;         proxy_http_version 1.1;         proxy_set_header Upgrade $http_upgrade$ #}

    location /prod {
        proxy_pass  http://localhost:4000/api;
        proxy_set_header Host $host;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_redirect off;


proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
   }

  location /stage {         proxy_pass  http://localhost:1200/api;         proxy_set_header Host $host;         proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;         proxy_set_header Connection 'upgrade';         proxy_set_header Host $host;
                    proxy_cache_bypass $http_upgrade;         proxy_redirect off;         proxy_set_header X-Real-IP $remote_addr;         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;         proxy_set_header X-Forwarded-Proto $scheme;    }

   location /rc-proof {
        proxy_pass  http://localhost:4000/rc-proof;
        proxy_set_header Host $host;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
   }

location /invoice-doc {
        proxy_pass  http://localhost:4000/invoice-doc;
        proxy_set_header Host $host;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
   }

   location /nestapp {
        proxy_pass  http://localhost:3000/api;
        proxy_set_header Host $host;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
   }


}
